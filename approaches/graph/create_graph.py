import matplotlib.pyplot as plt
import networkx as nx
import graph_utils
from androguard.misc import AnalyzeAPK

a, d, dx = AnalyzeAPK(
    "/home/mkr/Desktop/projects/python/databases/cic_and_mal_2017/train/Adware/5dc565a01bb789d8d171c20f52ac34c8.apk")

# print a.show()

CFG = graph_utils.get_graph(a, d, dx)
plt.figure(figsize=(10, 10))
nx.draw_networkx(CFG, with_labels=True, font_size=14, width=1)
plt.draw()
plt.show()
nx.write_gexf(CFG, '2.adjlist')
